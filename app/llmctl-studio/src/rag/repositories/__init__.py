"""RAG repository layer for source/index-job/file-state/settings persistence."""

from rag.repositories.index_jobs import (
    INDEX_JOB_META_DEFAULTS,
    active_index_job,
    append_index_job_output,
    cancel_index_job,
    create_index_job,
    delete_index_job,
    format_dt,
    get_index_job,
    has_active_index_job,
    index_job_meta,
    latest_index_job,
    list_active_index_jobs,
    list_index_jobs,
    mark_index_job_finished,
    mark_index_job_running,
    pause_index_job,
    resume_index_job,
    set_index_job_celery_id,
    set_index_job_meta,
    update_index_job,
    update_index_job_checkpoint,
    update_index_job_progress,
)
from rag.repositories.settings import (
    ensure_rag_setting_defaults,
    load_rag_settings,
    normalize_provider,
    save_rag_settings,
)
from rag.repositories.source_file_states import (
    SourceFileStateInput,
    SourceFileStats,
    delete_source_file_states,
    list_source_file_states,
    summarize_source_file_states,
    upsert_source_file_states,
)
from rag.repositories.sources import (
    RAGSourceInput,
    SCHEDULE_UNITS,
    clear_source_next_index,
    create_source,
    delete_source,
    get_source,
    is_valid_kind,
    list_due_sources,
    list_sources,
    schedule_source_next_index,
    update_source,
    update_source_index,
)

__all__ = [
    "INDEX_JOB_META_DEFAULTS",
    "RAGSourceInput",
    "SCHEDULE_UNITS",
    "SourceFileStateInput",
    "SourceFileStats",
    "active_index_job",
    "append_index_job_output",
    "cancel_index_job",
    "clear_source_next_index",
    "create_index_job",
    "create_source",
    "delete_index_job",
    "delete_source",
    "delete_source_file_states",
    "ensure_rag_setting_defaults",
    "format_dt",
    "get_index_job",
    "get_source",
    "has_active_index_job",
    "index_job_meta",
    "is_valid_kind",
    "latest_index_job",
    "list_active_index_jobs",
    "list_due_sources",
    "list_index_jobs",
    "list_source_file_states",
    "list_sources",
    "load_rag_settings",
    "mark_index_job_finished",
    "mark_index_job_running",
    "normalize_provider",
    "pause_index_job",
    "resume_index_job",
    "save_rag_settings",
    "schedule_source_next_index",
    "set_index_job_celery_id",
    "set_index_job_meta",
    "summarize_source_file_states",
    "update_index_job",
    "update_index_job_checkpoint",
    "update_index_job_progress",
    "update_source",
    "update_source_index",
    "upsert_source_file_states",
]
